
h4.ui.heading
	| Tunefind
	.ui.right.floated.mini.buttons
		.ui.blue.button(ng-click="tunefindCtrl.autoLoadSeries()") Auto
		.ui.button(ng-click="tunefindCtrl.loadSeries()") Load

table.ui.small.celled.table(ng-if="tunefindCtrl.isTunefindActive")
	thead
		tr
			th.thirteen.wide Title
			th.three.wide Info
	tbody
		tr(ng-repeat-start="season in tunefindCtrl.eventService.storage.tunefindCollection.seasonList")
			td
				h5.ui.heading(ng-click="season.isActive = !season.isActive", style="cursor:pointer")
					i.chevron.icon(ng-class="{right:!season.isActive, down:season.isActive}")
					| {{season.title}}
			td(ng-pluralize count="season.episodeCount" when="{'0': 'No Shows', '1': '1 Show', 'other': '{} Shows'}")

		tr(ng-repeat-start="show in season.showList", ng-if="season.isActive")
			td.thirteen.wide
				h5.ui.heading(ng-click="show.isActive = !show.isActive", style="cursor:pointer; margin-left:2em")
					i.chevron.icon(ng-class="{right:!show.isActive, down:show.isActive}")
					| Episode {{show.episodeNumber}} - {{show.title}}
					.ui.horizontal.yellow.label(ng-if="show.songCount > 0", style="float:right") {{show.songCount}} Songs

			td.three.wide
				.ui.mini.fluid.buttons
					.ui.button(ng-click="tunefindCtrl.clickedCrawlShow(season, show)") Crawl
					.ui.button Add all

		tr(ng-repeat-start="song in show.songList", ng-if="season.isActive && show.isActive")
			td.thirteen.wide
				h5.ui.heading(style="margin-left:4em")
					| {{song.artist}} - {{song.title}}
			td.three.wide
				.ui.fluid.mini.button(ng-click="tunefindCtrl.searchSong(song, show.songList)") Search

		tr(ng-repeat="itunesSong in song.itunesSongList", ng-if="season.isActive && show.isActive && song.isActive")
			td.thirteen.wide
				.content(style="margin-left:6em")
					h5.ui.heading(style="display:inline-block; margin-bottom:0") {{itunesSong.artistName}} - {{itunesSong.trackName}} &nbsp;
						i.volume.up.icon(ng-click="itunesSong.isPreviewActive = !itunesSong.isPreviewActive", ng-if="itunesSong.previewUrl")
					span(style="float:right")
						i  {{itunesSong.trackPrice | currency:"€"}}
					.ne-audio(ng-if='itunesSong.previewUrl && itunesSong.isPreviewActive')
						audio(ng-src='{{tunefindCtrl.trustSource(itunesSong.previewUrl)}}', controls='')

			td.three.wide
				.ui.fluid.mini.green.button(ng-click="tunefindCtrl.addItunesSong(itunesSong)") Add
		tr(ng-repeat-end, ng-hidden="true")
		tr(ng-repeat-end, ng-hidden="true")
		tr(ng-repeat-end, ng-hidden="true")
				//- td
				//- 	table.ui.very.basic.table
				//- 		tbody
				//- 			tr(ng-repeat-start="show in season.showList")
				//- 				td.one.wide
				//- 				td.twelve.wide
				//- 					h5.ui.heading(ng-click="show.isActive = !show.isActive", style="cursor:pointer")
				//- 						i.chevron.icon(ng-class="{right:!show.isActive, down:show.isActive}")
				//- 						| Episode {{show.episodeNumber}} - {{show.title}}
				//- 						.ui.horizontal.yellow.label(ng-if="show.songCount > 0") {{show.songCount}} Songs
				//- 				td.three.wide
				//- 					.ui.mini.fluid.buttons
				//- 						.ui.button Crawl
				//- 						.ui.button Add all

				//- 			tr(ng-repeat-start="song in show.songList", ng-if="show.isActive")
				//- 				td.one.wide
				//- 				td.twelve.wide
				//- 					h5.ui.heading(style="margin-left:2em")
				//- 						| {{song.artist}} - {{song.title}}
				//- 				td.three.wide
				//- 					.ui.fluid.mini.button(ng-click="tunefindCtrl.searchSong(song, show.songList)") Search

				//- 			tr(ng-repeat="itunesSong in song.itunesSongList", ng-if="show.isActive && song.isActive")
				//- 				td.one.wide
				//- 				td.twelve.wide
				//- 					h5.ui.heading(style="margin-left:4em")
				//- 						| {{itunesSong.artistName}} - {{itunesSong.trackName}}
				//- 				td.three.wide
				//- 					.ui.fluid.mini.button(ng-click="tunefindCtrl.addItunesSong(itunesSong)") Add
				//- 			tr(ng-repeat-end, ng-if="song.isActive")
				//- 			tr(ng-repeat-end, ng-if="show.isActive")
							//- td.one.wide
								td.twelve.wide
									table.ui.very.basic.table
										tbody
											tr(ng-repeat-start="song in show.songList")
												td.one.wide
												td.twelve.wide
													h5.ui.heading
														| {{song.artist}} - {{song.title}}
												td.three.wide
													.ui.fluid.mini.button(ng-click="tunefindCtrl.searchSong(song, show.songList)") Search

											tr(ng-repeat="itunesSong in song.itunesSongList", ng-if="song.isActive")
												td.one.wide
												td.twelve.wide
													h5.ui.heading(style="margin-left:2em")
														| {{itunesSong.artistName}} - {{itunesSong.trackName}}
												td.three.wide
													.ui.fluid.mini.button(ng-click="tunefindCtrl.addItunesSong(itunesSong)") Add
											tr(ng-repeat-end, ng-if="song.isActive")
											//- 	td.one.wide
											//- 	td.twelve.wide
											//- 		table.ui.very.basic.table
											//- 			tbody
											//- 				tr(ng-repeat="itunesSong in song.itunesSongList")
											//- 					td.one.wide
											//- 					td.twelve.wide
											//- 						h5.ui.heading
											//- 							| {{itunesSong.artistName}} - {{itunesSong.trackName}}
											//- 					td.three.wide
											//- 						.ui.fluid.mini.button(ng-click="tunefindCtrl.addItunesSong(itunesSong)") Add
											//- 	td.three.wide
								td.three.wide

